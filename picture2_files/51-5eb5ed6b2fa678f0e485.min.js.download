(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{318:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return k});var r=n(5),o=n.n(r),i=n(2),a=n.n(i),c=n(552),s=n(428),l=n(4),u=n(438),d=n.n(u),f=n(425);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    body, body.pg-error-page {\n        padding-top: 40px;\n    }\n"]);return w=function(){return e},e}var j=Object(l.createGlobalStyle)(w()),k=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=h(t).call(this,e),n=!i||"object"!==p(i)&&"function"!=typeof i?g(r):i,O(g(n),"state",{isLiveTvEnabled:!1,navOpen:!1}),O(g(n),"onGeoCheckReady",function(){n.setState({isLiveTvEnabled:n.isLiveTvEnabledCountry()})}),O(g(n),"onToggle",function(e){var t=e.open,r=window.getComputedStyle(document.body,null).getPropertyValue("padding-top");n.setState({navOpen:t}),t?Modernizr.ios?document.body.style.cssText="position: fixed; padding-top: ".concat(r,";"):document.body.style.cssText="overflow: hidden; position: absolute; padding-top: ".concat(r,";"):document.body.style.cssText="overflow: visible; position: static; padding-top: ".concat(r,";")}),O(g(n),"headerContentObservers",{}),O(g(n),"addHeaderContentObservers",function(e){var t=n.headerContentObservers,r=t.divIDs,o=void 0===r?[]:r,i=t.observers,a=void 0===i?[]:i;e.forEach(function(e){if(-1!==!o.indexOf(e)){var t=document.getElementById(e);if(null!==t){var r=new MutationObserver(function(){n.state.navOpen&&fastdom.mutate(function(){return n.headerRef.current.updateNavMaxHeight()})});r.observe(t,{subtree:!0,childList:!0,attributes:!0}),n.headerContentObservers={divIDs:[].concat(v(o),[e]),observers:[].concat(v(a),[r])}}}})}),O(g(n),"isLiveTvEnabledCountry",function(){var e=n.props.watchLiveButton,t=Object(f.b)("geoData");if(!t)return!1;var r=t.split("|")[3];return-1!==e.validCountries.indexOf(r)}),n.headerRef=o.a.createRef(),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){if(this.setState({isLiveTvEnabled:this.isLiveTvEnabledCountry()}),document.addEventListener("onGeoCheckReady",this.onGeoCheckReady),CNN.Analytics&&CNN.Analytics.usingOmniture&&"function"==typeof s.a){var e=this.props.sectionName,t="homepage"===e||"intl_homepage"===e?"homepage":null;Object(s.a)("nav",this.props,t)}var n=Array.prototype.slice.call(document.querySelectorAll(".ad.ad--epic.ad--all > div:first-child")).map(function(e){return e.id}).filter(function(e){return null!==e.match(/ad_(bnr_atf|mod)(_\w)?/)});this.addHeaderContentObservers([].concat(v(n),["breaking-news"]))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("onGeoCheckReady",this.onGeoCheckReady);var e=this.headerContentObservers;e&&e.observers&&e.observers.forEach(function(e){return e.disconnect()})}},{key:"render",value:function(){var e=this.props,t=e.edition,n=e.editions,i=e.enableEditionPicker,a=e.enableWatchLiveButton,s=e.nav,l=e.searchUrl,u=e.sectionName,p=e.sectionsInfo,v=e.uri,y=e.vertical,h=e.watchLiveButton,g=this.state,m=g.isLiveTvEnabled,O=g.navOpen,w=s.sections,k=s.social,E=v?Object(f.a)(v):"",P=Object(f.c)(w,p,t,u,E),L={"data-component":"header",editionPicker:{currentEdition:t,editions:n},enableAnimation:!1,enableEditionPicker:i,enableLiveTvButton:a&&m,links:P,liveTv:h,sectionNavData:P&&0!==P.length&&""!==u&&Object(f.d)(P,u,p,y,v)||{},socialBar:0!==k.length?{socialIcons:d()(k,"".concat(y,".links"),k[t].links),entity:d()(k,"".concat(y,".entity"),k[t].entity)}:null};return l&&(L.search={searchUrl:l}),o.a.createElement(r.Fragment,null,o.a.createElement("div",{id:"nav",style:O?{position:"absolute",width:"100%"}:void 0},o.a.createElement(j,null),o.a.createElement(c.a,b({},L,{onToggle:this.onToggle,ref:this.headerRef}))),O&&o.a.createElement("div",{style:{height:"40px"}}))}}])&&y(n.prototype,i),a&&y(n,a),t}();O(k,"propTypes",{edition:a.a.string,editions:a.a.arrayOf(a.a.shape({host:a.a.string,label:a.a.string,name:a.a.string})),enableEditionPicker:a.a.bool,enableWatchLiveButton:a.a.bool,nav:a.a.shape({sections:a.a.arrayOf(a.a.shape({})),social:a.a.shape({})}),pageType:a.a.string,searchUrl:a.a.string,sectionsInfo:a.a.shape({}),sectionName:a.a.string,uri:a.a.string,vertical:a.a.string,watchLiveButton:a.a.shape({copy:a.a.string,link:a.a.string,validCountries:a.a.arrayOf(a.a.string)})}),O(k,"defaultProps",{edition:"domestic",editions:[],enableEditionPicker:!1,enableWatchLiveButton:!1,nav:{sections:[],social:{domestic:{},international:{}}},pageType:"",searchUrl:"/search",sectionsInfo:{},sectionName:"",uri:"",vertical:"",watchLiveButton:{copy:"Live TV",link:"http://cnn.it/go2",validCountries:[]}})},425:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d});var c=function(e){return e.replace("/index.html","")};function s(e){if("undefined"==typeof window)return"";var t=document.cookie.match(new RegExp("(^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)")));return t?t.pop():void 0}var l=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;return t.map(function(t){var u,d=t.section,f=t.subs,p=void 0===f?[]:f,b=t.labelOverride,v=a(t,["section","subs","labelOverride"]),y=n[d],h=y&&c(y.uri)||v.url,g=p&&e(p,n,r,s,l),m=!1;v&&v.url&&s===h?m="selected":d===r&&(m="selected");var O=y&&o({},y,(i(u={name:d},p&&"subs",g),i(u,"url",h),i(u,b&&-1!==b.editions.indexOf(l)&&"label",b&&b.label),u))||v;return o({},O,i({selected:m},p&&"subs",g))})},u=function(e,t,n,r,a){return e.map(function(e){var s,u,d=e.deepNav,f=e.disableMegaNavLink,p=e.enableSectionLink,b=e.excludeEdition,v=e.label,y=e.labelOverride,h=e.name,g=e.section,m=e.subs,O=e.url,w=b===n,j=!w&&p,k=!!w||f;return t[g]?(s=o({},t[g],i({disableMegaNavLink:k,deepNav:d,enableSectionLink:j,name:g,subs:l(m,t,r,a,n),url:c(t[g].uri)},y&&-1!==y.editions.indexOf(n)&&"label",y&&y.label)),u=s,Object.keys(u).forEach(function(e){null!==u[e]&&void 0!==u[e]||delete u[e]}),u):{disableMegaNavLink:k,enableSectionLink:j,label:v,name:h,subs:m,url:O}})},d=function(e,t,n,r,o){var i=t.replace("intl_",""),a=function(t){return e.filter(function(e){return e.name===t})[0]},c=-1!==["homepage","cnn-info"].indexOf(i),s=n[i]&&n[i].parent,l="business"===r&&s&&a(s),u={};return c?null:((u=l||a(i)||e.filter(function(e){return 0!==e.subs.filter(function(e){return"selected"===e.selected}).length})[0]||null)&&"news"!==r&&(u.imageId=r),u)}}}]);